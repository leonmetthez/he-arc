# OS
![image](https://user-images.githubusercontent.com/62622644/204817583-eced29ad-b50e-446f-acec-74dadfdc283c.png)
## Sturcture d'un OS
### Famille d'OS
MS-Dos
- Ms-Dos
- 95 
- 98

Windows NT
- windows server
- Vist
- Windows NT
- windows 2000
- windows XP

Unix open source puis closed source
- Mac Os 
- BSD
- Sun OS
- Solaris

Minix reprise de unix mais pour rester open souce

Linux commme minix

### Composant d'un OS
**Gestion de processus**
  
`Processus` programme (.exe) entité inactive, process entité active, à besoin de memoire, CPU, IO, Fichier

**Gestion de la mémoire principale**

`mémoire principale` RAM, pas sauvergardé

**Gestion de la mémoire secondaire**

L'os est responssable de la sauvergare de processus, d'allouer, gérer l'espace libre

`mémoire secondaire` Sur un disque dure, sera sauvegardée

**Gestion des fichiers**

`fichier` groupe d’informations du même genre. Il contient soit un **programme** ou des **donnée**

**Gestion des entrées/sorties et Réseau**

gestion du clavier souris carte réseau porte USB, ..., 

L'os doit fournir les pilotes

**Protection du système**

L'os doit gerer les accès en fonction des utilisateurs

**Interpréteur de commandes**

Permet de faire le lien entre le machine et l'humain via des commandes et appels système

### Tache d'un os
![image](https://user-images.githubusercontent.com/62622644/205048912-514f985c-d305-46e7-9b77-0201b4ea5d72.png)

`user interface`
- GUI Batch ou commande line
`services`
- `programme execution` Charger un programme en mémoire executer et le décharger
- `io operations` Permettre à un programme l’accès à un périphérique
- `file systems` Gère les accès au fichier système (creation lecture suppression recherch permission)
- `communication` Echange d’informations entre processus
- `ressouce allocation` Partage et allocation des ressources
- `accounting` Comptabilisation pour statistique
- `error detection` L’OS est à l’écoute de potentielles erreur
- `protection and security` Processus ne doivent pas interférer entre eux ou avec l’OS

`system call` 
- les application peuvent faire des appels aux service via ces appels système
### Programme système
Programme par défaut d'un os
- Manipulation de fichiers
- Information de statut: date, utilisation matériel, performances, journaux…
- Modification de fichiers: Editeurs de texte, recherche…
- Support de langages de programmation: compilateurs, débuggeurs, interpréteurs…
- Communication: Messageries, navigateurs web, accès à distance, transfert de fichiers…
- Programme en arrière-plan (services, subsystems ou daemons): service d’impression, services réseaux…

### Structure
`Monolithique` MS-Dos, Unix, maximum d'un minimum d'espace. En deux parties, programme système et kernel.

![image](https://user-images.githubusercontent.com/62622644/205271650-7c113278-1737-47e5-8276-356cda179280.png)

`Model en couche` Systèmes répartis en plusieurs couches. Une couche peut uniquement accèder à la couche précedente

![image](https://user-images.githubusercontent.com/62622644/205271919-35b44c83-f70c-4f5c-a97b-092fefd06c3a.png)

`Microkernel` Kernel avec un minimum de fonctionnalitées le reste est dans la couche user, perte de performance

![image](https://user-images.githubusercontent.com/62622644/205271988-6b7fc2fe-cc42-4b2c-8c53-b8a268a13a2f.png)

`Module` Noyau avec le minimum de fonctionnalité, et des modules additionnels qui communique avec des interfaces définies

![image](https://user-images.githubusercontent.com/62622644/205272025-1b1de4bb-23f4-4da4-985b-d658e4124c51.png)

`Modèles hybrides` Les OS actuels adoptent une structure combinant plusieurs modèles

## Virtualisation
`machine hôte` matériel physique

`hyperviseur` application créant et exécutant des machines virtuelles (VM)

`machine invitée` ou `guest` os virtuel

avantage, ...

### Hyperviseur de type 2
- Logiciel exécuté sur l’OS hôte
- Permet d’exécuter plusieurs OS invités

Exemple : VirtualBox, VMware workstation player

![image](https://user-images.githubusercontent.com/62622644/204830228-acee505f-e710-4ab7-95a1-a8137fcfc3cf.png)

### Hyperviseur de type 1
- Système optimisé et dédié à la virtualisation
- Plus performant que le 2
- (Pas nécessairement besoin d’avoir un os hôte)

Exemple : Hyper V server, vSphere.

![image](https://user-images.githubusercontent.com/62622644/204830475-716ad4fd-8d9d-4c47-a4a9-faf37774d127.png)

### Isolateurs
- Logiciel isolant l’exécution d’application dans des contextes
- N’est pas une virtualisation de l’OS
- Bonne performances

Exemple : Docker, Linux-Vserver

![image](https://user-images.githubusercontent.com/62622644/204830611-756899f9-b10e-4948-82d2-8bfa762e786e.png)

### Noyau en espace utilisateur
- Utilisé surtout pour le dev. du noyau Linux 
- OS qui fait tourner plusieurs noyaux.

Exemple : User Mode Linux, Cooperative Linux

![image](https://user-images.githubusercontent.com/62622644/204830721-11d5e85a-65de-4b0a-b2cb-82fc78e7828b.png)




## Commande Windows 
`^` échapper à `& | ^ < > (  ) %` pour échapper à sauf `%` → `%%`

`/?` 	help

•	N’est pas case sensitive contrairement à linux

### Chemin :
`<drive>`	drive

`\\<server>\<share>`	server

`.`	dossier courant

`..` dossier parents

` `  racine du lecteur courant

`\*` 	remplace un mot (*.c)

`?`	remplace un caractère (liste??.c)

### Variables :

`set`	affiche variable

`set <nom>=<string>`	définit la variable pas d’espaces autour de =

`set <nom>=`	efface la variable

`%<nom>%`	pour accéder à la variable (echo %couleur%)

`set PATH=%PATH%;C:\MyScripts\`

## Linux et GNU
GNU = GNU is Not Unix, https://www.gnu.org/
- But du projet: Réaliser un système similaire à UNIX entièrement libre
- Démarré en 1984 par Richard Stallman (MIT): les sources de UNIX n’étaient plus libres d’accès
- Poursuivi par la Free Software Foundation
- outils de compilations C (gcc et GNU make), Emacs, bibliothèque C et commandes de bases (ls, cp…) (pas de noyeau)

Linux
- Noyau

Distribution
- Publication cohérente de versions compatibles du noyau, de la bibliothèque C, des compilateurs, des programmes systèmes
- Gestionnaire de pour le téléchargement, l’installation et la mise à jour des programmes utilisateurs
- Exemple distrubution communautaire Debian, Ubuntu, Fedora
- Exemple distribution commertial Suze, Redhat
